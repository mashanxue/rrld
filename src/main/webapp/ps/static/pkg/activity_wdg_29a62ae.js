;/*!/client/widget/2018/eighth/eighth_coupon/eighth_coupon.js*/
define("activity:widget/2018/eighth/eighth_coupon/eighth_coupon.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),EighthCoupon=function(){function EighthCoupon(){_classCallCheck(this,EighthCoupon)}return EighthCoupon.prototype.init=function(userInfo){this.bindEvent(),this.userInfo=userInfo,this.requesting=!1},EighthCoupon.prototype.bindEvent=function(){function bindClick(){if(!_this.userInfo.isLogin)return location.href="/login?returnUrl="+encodeURIComponent(location.href),!1;var COUPON_INDEX=Number($(this).attr("data-id")),tag1=" <div id='fillhtml3'>\n                    <h3 class='h3_2'>确定领取吗？<h3>\n                    <div class='btnGroup'>\n                    <div class='btn_cancle' id='tag1_cancel'>取消</div>\n                    <div class='btn_ensure' id='tag1_certain'>确定</div>\n                    </div>\n                </div>",tag=" <div id='fillhtml1'>\n                <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/eighth/reward-1.png' />\n                <h3 class='h3_1'>恭喜您！优惠券领取成功</h3>\n                <p class='p_1'>您可前往“账户-优惠券”查看</p>\n                <div class='btn' id='coupon_success'>我知道了</div>\n            </div>";_this.textContentDeal(tag1,"#fillhtml3","eighth-no-reward","#noward",!0),$("#tag1_cancel").on("click",function(){$(".rrd-pc-common-dialog.eighth-no-reward").hide()}),$("#tag1_certain").on("click",function(){return $(".rrd-pc-common-dialog.eighth-no-reward").hide(),this.requesting===!0?!1:(this.requesting=!0,void $.ajax({url:"/activity/2018/getActivityCoupon",type:"post",dataType:"json",data:{couponIndex:COUPON_INDEX,activity:"eighth"},success:function(res){this.requesting=!1,console.log("res",res),0===res.status&&(_this.textContentDeal(tag,"#fillhtml1","eighth-lottery-tips","#lotteryTips",!0),$("#coupon_success").on("click",function(){$("#tag1_certain").off("click",null),$("#tag1_cancel").off("click",null),$("#coupon_success").off("click",null),_this.onCouponCountChange(res),$(".rrd-pc-common-dialog.eighth-lottery-tips").hide()}))},error:function(){this.requesting=!1}}))})}var _this=this;$(".eighth-coupon__content").on("click",".eighth-coupon__button",bindClick)},EighthCoupon.prototype.onCouponCountChange=function(res){var couponAvailableCount=res.data.couponAvailableCount,content=$(".eighth-coupon__item-content"),button=$(".eighth-coupon__button"),count=$("#eighth-coupon__chance");count.text(res.data.couponAvailableCount),0>=couponAvailableCount&&(content.removeClass("eighth-coupon__item-content"),content.addClass("eighth-coupon__item-content--disable"),button.removeClass("eighth-coupon__button"),button.addClass("eighth-coupon__button--disable"))},EighthCoupon.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},EighthCoupon}();module.exports=new EighthCoupon});
;/*!/client/widget/2018/eighth/eighth_dialog/eighth_dialog.js*/
define("activity:widget/2018/eighth/eighth_dialog/eighth_dialog.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Dialog=(require("common:widget/lib/jquery/jquery"),require("common:widget/ui/jq-dialog/jq-dialog")),SeptDialog=function(){function SeptDialog(){_classCallCheck(this,SeptDialog)}return SeptDialog.prototype.init=function(){this.initRule()},SeptDialog.prototype.initRule=function(){var $lotteryTips="\n            <div class='lotteryTips' id='lotteryTips'>\n     \n            </div>\n        ",$giftBox="\n          <div class='giftBox' id='giftBox'>\n\n          </div>\n        ",$noreward="\n            <div class='noward' id='noward'>\n  \n            </div>\n        ";this.dialogs={lotteryTips:Dialog.createDialog({dialogClass:"eighth-lottery-tips",contentClass:"eighth-lottery-tips-content",content:$lotteryTips}),giftList:Dialog.createDialog({dialogClass:"eighth-gift-list",contentClass:"eighth-gift-list-content",content:$giftBox}),noreward:Dialog.createDialog({dialogClass:"eighth-no-reward",contentClass:"eighth-no-reward-content",content:$noreward})}},SeptDialog}();module.exports=new SeptDialog});
;/*!/client/widget/2018/eighth/eighth_product/eighth_product.js*/
define("activity:widget/2018/eighth/eighth_product/eighth_product.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var EighthProduct=(require("common:widget/lib/jquery/jquery"),function(){function EighthProduct(){_classCallCheck(this,EighthProduct)}return EighthProduct.prototype.init=function(){this.bindEvent()},EighthProduct.prototype.bindEvent=function(){},EighthProduct}());module.exports=new EighthProduct});
;/*!/client/widget/2018/eighth/eighth_reward/eighth_reward.js*/
define("activity:widget/2018/eighth/eighth_reward/eighth_reward.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),service=(require("common:node_modules/moment/moment"),require("common:widget/ui/service/service-factory")),activityService=service.getService("activity"),Reward=(require("event:widget/ui/awardlottery/awardlottery"),function(){function Reward(){_classCallCheck(this,Reward)}return Reward.prototype.init=function(userInfor,userJoinDetail){this.userInfor=userInfor,this.userJoinDetail=userJoinDetail,this.isLottery=!0,this.eventHandle()},Reward.prototype.eventHandle=function(){var _this=this;$("#invite").on("click",function(){location.href="/event/invitefriends/invitefriends"}),$("#eighth_start").on("click",function(){return _this.userInfor.isLogin?_this.isLottery?(_this.isLottery=!1,void activityService.septLottery().then(function(res){var data=res.data;if(0===data.status)if(2===data.data.matchStatus){var tag="  <div id='fillhtml3'>\n                                        <h3 class='h3_3'>"+data.data.message+"</h3>\n                                    </div>";_this.textContentDeal(tag,"#fillhtml3","eighth-no-reward","#noward",!1),_this.isLottery=!0}else _this.turnTable(data.data);else{var tag="<div id='fillhtml3'>\n                                    <h3 class='h3_3'>"+data.message+"</h3>\n                               </div>";_this.textContentDeal(tag,"#fillhtml3","eighth-no-reward","#noward",!1),_this.isLottery=!0}})):!1:(location.href="/login?returnUrl="+encodeURIComponent(location.href),!1)}),$("#rewardRecord").on("click",function(){activityService.getSeptLotteryRecord().then(function(res){var data=res.data;if(0===data.status)if(data.data.length>0){var tag="";data.data.forEach(function(e){tag+=" <tr>\n                                        <td>"+e.date+"</td>\n                                        <td>"+e.content+"</td>\n                                    </tr>"});var tag1="<div id='fillhtml2'>\n                                    \n                                        <h3 class='h3_5'>我的获奖记录</h3>\n                                        <div class='eighth_scroll'>\n                                        <table class=\"reward-table\">\n                                            <tr>\n                                                <td>获奖日期</td>\n                                                <td>奖品</td>\n                                            </tr>\n                                            "+tag+"\n                                        </table>\n                                        </div>\n                                </div>";_this.textContentDeal(tag1,"#fillhtml2","eighth-gift-list","#giftBox",!1)}else{var tag=" <div id='fillhtml3'>\n                                        <h3 class='h3_4'>我的获奖记录</h3>\n                                        <img class='img_2' src='https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/eighth/empty.png' />\n                                        <p class='p_2'>暂未获奖</p>\n                                    </div>";_this.textContentDeal(tag,"#fillhtml3","eighth-no-reward","#noward",!1)}})}),$("#addressBtn,#addressBtn1").on("click",function(){return _this.userInfor.isLogin?void activityService.getSeptUserAddress().then(function(res){if(0===res.data.status){var data=res.data.data,tag=" <div id='fillhtml2'>\n                                    <h3 class='h3_5'>我的收货地址</h3>\n                                    <div class='myDiv'>\n                                        <label for=\"name\">姓名</label>\n                                        <input type=\"input\"  id=\"name\" value='"+(data?data.name:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="telPhone">手机号</label>\n                                        <input type="input"  id="telPhone" value=\''+(data?data.mobile:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="address">地址</label>\n                                        <input type="input"  id="address"  value=\''+(data?data.address:"")+"' />\n                                    </div>\n                                    <div class='btn' id='iKnow1'>保存地址</div>\n                                </div>";_this.textContentDeal(tag,"#fillhtml2","eighth-gift-list","#giftBox",!1),$("#iKnow1").on("click",function(){_this.verifyAddress()})}}):(location.href="/login?returnUrl="+encodeURIComponent(location.href),!1)})},Reward.prototype.turnTable=function(data){var _this=this;$("#eighth_turntable").stopRotate(),$("#eighth_turntable").rotate({angle:0,animateTo:3960-180*(1+2*data.index)/7,duration:8e3,callback:function(){if(0===data.matchStatus){var arr=data.successText.split("$$$"),tag=" <div id='fillhtml1'>\n                                    <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/eighth/reward-"+(data.index<3?1:data.index)+".png' />\n                                    <h3 class='h3_1'>"+arr[0]+"</h3>\n                                    <p class='p_1'>"+arr[1]+"</p>\n                                    <div class='btn' id='iKnow'>我知道了</div>\n                                </div>";_this.textContentDeal(tag,"#fillhtml1","eighth-lottery-tips","#lotteryTips",!0),$("#iKnow").on("click",function(){$(".rrd-pc-common-dialog.eighth-lottery-tips").hide(),$("#iKnow").off("click",null)})}else if(1===data.matchStatus){var tag=" <div id='fillhtml1'>\n                                    <img class='img_3' src='//www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/eighth/noreward.png'/>\n                                    <h3 class='h3_5'>谢谢参与，再接再厉</h3>\n                                    <div class='btn' id='iKnow'>我知道了</div>\n                                </div>";_this.textContentDeal(tag,"#fillhtml1","eighth-lottery-tips","#lotteryTips",!0),$("#iKnow").on("click",function(){$(".rrd-pc-common-dialog.eighth-lottery-tips").hide(),$("#iKnow").off("click",null)})}_this.isLottery=!0}})},Reward.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},Reward.prototype.verifyAddress=function(){var name=$("#name").val();if(!name)return tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(0).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var phone=$("#telPhone").val();if(!/^1[34578]\d{9}$/.test(phone))return tip=$('<div class="tips-name">请输入正确的手机号</div>'),$(".myDiv").eq(1).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var addr=$("#address").val();return addr?void $.ajax({url:"/activity/2018/septUpdateAddress",dataType:"json",type:"post",data:{name:name,mobile:phone,address:addr},success:function(res){0===res.status&&($(".rrd-pc-common-dialog.eighth-gift-list").hide(),$("#iKnow").off("click",null))}}):(tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(2).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1)},Reward}());module.exports=new Reward});
;/*!/client/widget/2018/eighth/eighth_rule/eighth_rule.js*/
define("activity:widget/2018/eighth/eighth_rule/eighth_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Rule=function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){$("#btn-eighth-rule").on("click",function(){var $eighthRuleContentBox=$(".eighth-activity-rule-box .eighth-rule-content-box");$(this).hasClass("show")?($eighthRuleContentBox.slideUp(),$(this).removeClass("show")):($eighthRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-more").toggleClass("rotate-90").toggleClass("rotate-270")})},Rule}();module.exports=new Rule});
;/*!/client/widget/2018/goldautumn/activity_dialog/activity_dialog.js*/
define("activity:widget/2018/goldautumn/activity_dialog/activity_dialog.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),RankingRule=function(){function RankingRule(){_classCallCheck(this,RankingRule)}return RankingRule.prototype.init=function(userInfor){this.initRule(),this.eventHandle(userInfor.isLogin)},RankingRule.prototype.initRule=function(){var $rankingRule="\n            <div class=\"gold-team-ranking-rule-box\">\n                <div class='team-title'></div>\n                <div class='team-box'>\n                    <h3>榜单排名规则</h3>\n                    <p>1、活动期间，根据用户的累计授权出借本金排名，前十名用户可获得相应奖励。累计授权出借本金相同的用户，按照达成时间先后排名。</p>\n                    <table class=\"reward-table\">\n                        <tr>\n                            <td>排名</td>\n                            <td>奖品</td>\n                        </tr>\n                        <tr>\n                            <td>1</td>\n                            <td>JBL STUDIO 180BK+天龙X1300 音响</td>\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>MacBook Pro 256G</td>\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>荣泰按摩椅RT6038</td>\n                        </tr>\n                        <tr>\n                            <td>4</td>\n                            <td>大疆无人机 Pro V2.0</td>\n                        </tr>\n                        <tr>\n                            <td>5</td>\n                            <td>iPhone X 256G</td>\n                        </tr>\n                        <tr>\n                            <td>6</td>\n                            <td>海信60英寸液晶电视</td>\n                        </tr>\n                        <tr>\n                            <td>7</td>\n                            <td>科沃斯CEN665 扫地机器人</td>\n                        </tr>\n                        <tr>\n                            <td>8</td>\n                            <td>畅呼吸智能空气净化器</td>\n                        </tr>\n                        <tr>\n                            <td>9</td>\n                            <td>易跑MINI5智能跑步机</td>\n                        </tr>\n                        <tr>\n                            <td>10</td>\n                            <td>Kindle Paperwhite 电纸书</td>\n                        </tr>\n                    </table>\n                    <p>2、排行榜实时更新，最终排名以活动结束时（2018.9.12 23:59:59）系统统计为准。</p>\n                    <p>3、活动期间累计授权出借本金的统计，仅限于对优选、12个月及以上服务期限的U享（含成功续期和追加，成功续期是指活动期间内用户成功通过续期出借新一期的U享【12个月及以上服务期限】 或优选 ）的出借本金。</p>\n                   \n                </div>\n                <div class='team-end'></div>\n            </div>",$joinSuccess="\n            <div class='gd-join-success'>\n                <p>成功参与返现活动</p>\n                <div class='iKnow'>我知道了</div>\n            </div>";this.dialogs={teamRankingRuleDialog:Dialog.createDialog({dialogClass:"gold-team-ranking-dialog",contentClass:"gold-team-ranking-dialog-content",content:$rankingRule}),joinSuccess:Dialog.createDialog({dialogClass:"goldautumn-join-success",contentClass:"goldautumn-join-success-content",content:$joinSuccess})}},RankingRule.prototype.eventHandle=function(isLogin){var _this=this;$("#rankingRule").on("click",function(){$(".btn-close-dialog").removeClass("fn-hide"),_this.dialogs.teamRankingRuleDialog.show()}),$("#joinActivity").on("click",function(){$(".btn-close-dialog").addClass("fn-hide"),isLogin?$.ajax({type:"GET",url:"/activity/2018/joinActivity",dataType:"json",success:function(data){0===data.status&&_this.dialogs.joinSuccess.show()}}):location.href="/login"}),$(".iKnow").on("click",function(){_this.dialogs.joinSuccess.hide(),window.location.reload()})},RankingRule}();module.exports=new RankingRule});
;/*!/client/widget/2018/goldautumn/activity_end/activity_end.js*/
define("activity:widget/2018/goldautumn/activity_end/activity_end.js",function(){});
;/*!/client/widget/2018/goldautumn/activity_mid/activity_mid.js*/
define("activity:widget/2018/goldautumn/activity_mid/activity_mid.js",function(){});
;/*!/client/widget/2018/goldautumn/activity_rule/activity_rule.js*/
define("activity:widget/2018/goldautumn/activity_rule/activity_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Rule=(require("common:node_modules/glpb-components-common/src/index").weStatistic,function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){this.handle()},Rule.prototype.handle=function(){$("#btn-gold-rule").on("click",function(){var $mgmRuleContentBox=$(".gold-activity-rule-box .gold-rule-content-box");$(this).hasClass("show")?($mgmRuleContentBox.slideUp(),$(this).removeClass("show")):($mgmRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-jiantou").toggleClass("rotate-90").toggleClass("rotate-270")})},Rule}());module.exports=new Rule});
;/*!/client/widget/2018/goldautumn/activity_top/activity_top.js*/
define("activity:widget/2018/goldautumn/activity_top/activity_top.js",function(){});
;/*!/client/widget/2018/november/november_coupon/november_coupon.js*/
define("activity:widget/2018/november/november_coupon/november_coupon.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),NovemberCoupon=function(){function NovemberCoupon(){_classCallCheck(this,NovemberCoupon)}return NovemberCoupon.prototype.init=function(userInfo,num){this.bindEvent(),this.userInfo=userInfo,this.num=num,this.requesting=!1},NovemberCoupon.prototype.bindEvent=function(){function bindClick(){if(!_this.userInfo.isLogin)return location.href="/login?returnUrl="+encodeURIComponent(location.href),!1;if(!(_this.num<=0)){var COUPON_INDEX=Number($(this).attr("data-cp")),tag1=" <div id='nov_noward_remove'>\n                    <h3 class='h3_2'>确定领取吗？<h3>\n                    <div class='btnGroup'>\n                    <div class='btn_cancle' id='nov_tag1_cancel'>取消</div>\n                    <div class='btn_ensure' id='nov_tag1_certain'>确定</div>\n                    </div>\n                </div>",tag=" <div id='lotteryTips_remove'>\n                <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/november/getcoupon.png' />\n                <h3 class='h3_1'>恭喜您！优惠券领取成功</h3>\n                <p class='p_1'>您可前往“账户-优惠券”查看</p>\n                <div class='btn' id='nov_iKnow2'>我知道了</div>\n            </div>";_this.textContentDeal(tag1,"#nov_noward_remove","nov-no-reward","#nov_noward",!0),$("#nov_tag1_cancel").on("click",function(){$(".rrd-pc-common-dialog.nov-no-reward").hide()}),$("#nov_tag1_certain").on("click",function(){return $(".rrd-pc-common-dialog.nov-no-reward").hide(),this.requesting===!0?!1:(this.requesting=!0,void $.ajax({url:"/activity/2018/getActivityCoupon",type:"post",dataType:"json",data:{couponIndex:COUPON_INDEX,activity:"november"},success:function(res){if(this.requesting=!1,0===res.status)_this.textContentDeal(tag,"#lotteryTips_remove","nov-lottery-tips","#nov_lotteryTips",!0),$("#nov_iKnow2").on("click",function(){$("#nov_tag1_certain").off("click",null),$("#nov_tag1_cancel").off("click",null),$("#nov_iKnow2").off("click",null),_this.num=res.data.couponAvailableCount,_this.onCouponCountChange(res),$(".rrd-pc-common-dialog.nov-lottery-tips").hide()});else{var tag2="<div id='nov_noward_remove'>\n                                            <h3 class='h3_3'>"+res.message+"</h3>\n                                    </div>";_this.textContentDeal(tag2,"#nov_noward_remove","nov-no-reward","#nov_noward",!1)}},error:function(){this.requesting=!1;var tag3="<div id='nov_noward_remove'>\n                                            <h3 class='h3_3'>"+res.message+"</h3>\n                                    </div>";_this.textContentDeal(tag3,"#nov_noward_remove","nov-no-reward","#nov_noward",!1)}}))})}}var _this=this;$(".november_coupon .coupon_body").on("click",".right",bindClick)},NovemberCoupon.prototype.onCouponCountChange=function(res){var couponAvailableCount=res.data.couponAvailableCount,count=$(".radius span"),content=$(".coupon_mask");count.text(res.data.couponAvailableCount),0>=couponAvailableCount&&content.addClass("coupon_mask_disable")},NovemberCoupon.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},NovemberCoupon}();module.exports=new NovemberCoupon});
;/*!/client/widget/2018/november/november_dialog/november_dialog.js*/
define("activity:widget/2018/november/november_dialog/november_dialog.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),NoveDialog=function(){function NoveDialog(){_classCallCheck(this,NoveDialog)}return NoveDialog.prototype.init=function(){this.initRule()},NoveDialog.prototype.initRule=function(){var $lotteryTips="\n            <div class='lotteryTips' id='nov_lotteryTips'>\n     \n            </div>\n        ",$giftBox="\n          <div class='giftBox' id='nov_gift'>\n\n          </div>\n        ",$noreward="\n            <div class='noward' id='nov_noward'>\n               \n            </div>\n        ";this.dialogs={lotteryTips:Dialog.createDialog({dialogClass:"nov-lottery-tips",contentClass:"nov-lottery-tips-content",content:$lotteryTips}),giftList:Dialog.createDialog({dialogClass:"nov-gift-list",contentClass:"nov-gift-list-content",content:$giftBox}),noreward:Dialog.createDialog({dialogClass:"nov-no-reward",contentClass:"nov-no-reward-content",content:$noreward})}},NoveDialog}();module.exports=new NoveDialog});
;/*!/client/widget/2018/november/november_reward/november_reward.js*/
define("activity:widget/2018/november/november_reward/november_reward.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),service=(require("common:node_modules/moment/moment"),require("common:widget/ui/service/service-factory")),activityService=service.getService("activity"),Reward=(require("event:widget/ui/awardlottery/awardlottery"),function(){function Reward(){_classCallCheck(this,Reward)}return Reward.prototype.init=function(userInfor,userJoinDetail){this.userInfor=userInfor,this.userJoinDetail=userJoinDetail,this.isLottery=!0,this.eventHandle()},Reward.prototype.eventHandle=function(){var _this=this;$("#november_start").on("click",function(){return _this.userInfor.isLogin?_this.isLottery?(_this.isLottery=!1,void activityService.activityLottery({time:"november"}).then(function(res){var data=res.data;if(0===data.status)if(2===data.data.matchStatus){var str="";str=data.data.canShare?"暂无抽奖机会，前往APP分享可增加一次抽奖机会":data.data.message;var tag="  <div id='nov_noward_remove'>\n                                        <h3 class='h3_3'>"+str+"</h3>\n                                    </div>";_this.textContentDeal(tag,"#nov_noward_remove","nov-no-reward","#nov_noward",!1),_this.isLottery=!0}else _this.turnTable(data.data);else{if(1001===data.status||-100===data.status)return location.href="/login?returnUrl="+encodeURIComponent(location.href),!1;var tag="<div id='nov_noward_remove'>\n                                    <h3 class='h3_3'>"+data.message+"</h3>\n                               </div>";_this.textContentDeal(tag,"#nov_noward_remove","nov-no-reward","#nov_noward",!1),_this.isLottery=!0}})):!1:(location.href="/login?returnUrl="+encodeURIComponent(location.href),!1)}),$("#nov_rewardRecord").on("click",function(){activityService.activityLotteryRecord({time:"november"}).then(function(res){var data=res.data;if(0===data.status)if(data.data.length>0){var tag="";data.data.forEach(function(e){tag+=" <tr>\n                                        <td>"+e.date+"</td>\n                                        <td>"+e.content+"</td>\n                                    </tr>"});var tag1="<div id='nov_gift_remove'>\n                                    \n                                        <h3 class='h3_5'>我的获奖记录</h3>\n                                        <div class='november_scroll'>\n                                        <table class=\"reward-table\">\n                                            <tr>\n                                                <td>获奖日期</td>\n                                                <td>奖品</td>\n                                            </tr>\n                                            "+tag+"\n                                        </table>\n                                        </div>\n                                </div>";_this.textContentDeal(tag1,"#nov_gift_remove","nov-gift-list","#nov_gift",!1)}else{var tag=" <div id='nov_noward_remove'>\n                                        <h3 class='h3_4'>我的获奖记录</h3>\n                                        <img class='img_2' src='https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/november/empty.png' />\n                                        <p class='p_2'>暂未获奖</p>\n                                    </div>";_this.textContentDeal(tag,"#nov_noward_remove","nov-no-reward","#nov_noward",!1)}})}),$("#nov_addressBtn").on("click",function(){return _this.userInfor.isLogin?void activityService.getSeptUserAddress().then(function(res){if(0===res.data.status){var data=res.data.data,tag=" <div id='nov_gift_remove'>\n                                    <h3 class='h3_5'>我的收货地址</h3>\n                                    <div class='myDiv'>\n                                        <label for=\"name\">姓名</label>\n                                        <input type=\"input\"  id=\"nov_name\" value='"+(data?data.name:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="telPhone">手机号</label>\n                                        <input type="input"  id="nov_telPhone" value=\''+(data?data.mobile:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="address">地址</label>\n                                        <input type="input"  id="nov_address"  value=\''+(data?data.address:"")+"' />\n                                    </div>\n                                    <div class='btn' id='sendAddress'>保存地址</div>\n                                </div>";_this.textContentDeal(tag,"#nov_gift_remove","nov-gift-list","#nov_gift",!1),$("#sendAddress").on("click",function(){_this.verifyAddress()})}}):(location.href="/login?returnUrl="+encodeURIComponent(location.href),!1)})},Reward.prototype.turnTable=function(data){var _this=this;$("#november_turntable").stopRotate(),$("#november_turntable").rotate({angle:0,animateTo:3960-180*(1+2*data.index)/7,duration:8e3,callback:function(){if(0===data.matchStatus){var arr=data.successText.split("$$$"),tag=" <div id='lotteryTips_remove'>\n                                    <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/november/reward-"+(data.index<3?11:data.index)+".png' />\n                                    <h3 class='h3_1'>"+arr[0]+"</h3>\n                                    <p class='p_1'>"+arr[1]+"</p>\n                                    <div class='btn' id='nov_iKnow'>我知道了</div>\n                                </div>";_this.textContentDeal(tag,"#lotteryTips_remove","nov-lottery-tips","#nov_lotteryTips",!0),$("#nov_iKnow").on("click",function(){$(".rrd-pc-common-dialog.nov-lottery-tips").hide(),$("#nov_iKnow").off("click",null)})}else if(1===data.matchStatus){var tag=" <div id='lotteryTips_remove'>\n                                    <img class='img_3' src='https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/november/noreward.png'/>\n                                    <h3 class='h3_5'>谢谢参与，再接再厉</h3>\n                                    <div class='btn' id='nov_iKnow1'>我知道了</div>\n                                </div>";_this.textContentDeal(tag,"#lotteryTips_remove","nov-lottery-tips","#nov_lotteryTips",!0),$("#nov_iKnow1").on("click",function(){$(".rrd-pc-common-dialog.nov-lottery-tips").hide(),$("#nov_iKnow1").off("click",null)})}_this.isLottery=!0}})},Reward.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},Reward.prototype.verifyAddress=function(){var name=$("#nov_name").val();if(!name)return tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(0).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var phone=$("#nov_telPhone").val();if(!/^1[34578]\d{9}$/.test(phone))return tip=$('<div class="tips-name">请输入正确的手机号</div>'),$(".myDiv").eq(1).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var addr=$("#nov_address").val();return addr?void $.ajax({url:"/activity/2018/septUpdateAddress",dataType:"json",type:"post",data:{name:name,mobile:phone,address:addr},success:function(res){0===res.status&&($(".rrd-pc-common-dialog.nov-gift-list").hide(),$("#sendAddress").off("click",null))}}):(tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(2).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1)},Reward}());module.exports=new Reward});
;/*!/client/widget/2018/november/november_rule/november_rule.js*/
define("activity:widget/2018/november/november_rule/november_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Rule=function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){$("#btn-november-rule").on("click",function(){var $novemberRuleContentBox=$(".november-activity-rule-box .november-rule-content-box");$(this).hasClass("show")?($novemberRuleContentBox.slideUp(),$(this).removeClass("show")):($novemberRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-more").toggleClass("rotate-90").toggleClass("rotate-270")})},Rule}();module.exports=new Rule});
;/*!/client/widget/2018/september/sept_coupon/sept_coupon.js*/
define("activity:widget/2018/september/sept_coupon/sept_coupon.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),SeptCoupon=function(){function SeptCoupon(){_classCallCheck(this,SeptCoupon)}return SeptCoupon.prototype.init=function(userInfo){this.bindEvent(),this.userInfo=userInfo,this.requesting=!1},SeptCoupon.prototype.bindEvent=function(){function bindClick(e){if($(this).hasClass("disable"))return!1;if(!_this.userInfo.isLogin)return location.href="/login?returnUrl="+encodeURIComponent(location.href),!1;var COUPON_INDEX=Number(e.target.getAttribute("data-id")),tag1=" <div id='fillhtml1'>\n                    <h3 class='h3_2'>确定领取吗？<h3>\n                    <div class='btnGroup'>\n                    <div class='btn_cancle' id='tag1_cancel'>取消</div>\n                    <div class='btn_ensure' id='tag1_certain'>确定</div>\n                    </div>\n                </div>",tag2="<div id='fillhtml1'>\n                        <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/september/giftbox.png' />\n                        <h3 class='h3_1'>恭喜您！优惠券领取成功</h3>\n                        <p class='p_1'>您可前往“账户-优惠券”查看</p>\n                        <div class='btn' id='coupon_success'>我知道了</div>\n                    </div>";_this.textContentDeal(tag1,"#fillhtml1","september-lottery-tips","#lotteryTips",!0),$("#tag1_cancel").on("click",function(){$(".rrd-pc-common-dialog.september-lottery-tips").hide()}),$("#tag1_certain").on("click",function(){return $(".rrd-pc-common-dialog.september-lottery-tips").hide(),this.requesting===!0?!1:(this.requesting=!0,void $.ajax({url:"/activity/2018/getActivityCoupon",type:"post",dataType:"json",data:{couponIndex:COUPON_INDEX,activity:"september"},success:function(res){this.requesting=!1,0===res.status&&(_this.textContentDeal(tag2,"#fillhtml1","september-lottery-tips","#lotteryTips",!0),$("#coupon_success").on("click",function(){$("#tag1_certain").off("click",null),$("#tag1_cancel").off("click",null),$("#coupon_success").off("click",null),window.location.reload(),$(".rrd-pc-common-dialog.september-lottery-tips").hide()}))},error:function(){this.requesting=!1}}))})}var _this=this;$(".sept-coupon__button").on("click",bindClick)},SeptCoupon.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},SeptCoupon}();module.exports=new SeptCoupon});
;/*!/client/widget/2018/september/sept_dialog/sept_dialog.js*/
define("activity:widget/2018/september/sept_dialog/sept_dialog.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),SeptDialog=function(){function SeptDialog(){_classCallCheck(this,SeptDialog)}return SeptDialog.prototype.init=function(){this.initRule(),this.eventHandle()},SeptDialog.prototype.initRule=function(){var $rankingRule="\n            <div class=\"september-team-ranking-rule-box\">\n                <div class='team-title'></div>\n                <div class='team-box'>\n                    <h3>排行榜规则</h3>\n                    <p>1、活动期间，根据用户累计出借优选自动投标服务、12个月及以上服务期限的U享自动投标服务（含成功续期和追加，成功续期指活动期间出借新一期的前述服务并完成出借）的本金排名，前十名用户可获得实物大奖。</p>\n                    <table class=\"reward-table\">\n                        <tr>\n                            <td>排名</td>\n                            <td>奖品</td>\n                        </tr>\n                        <tr>\n                            <td>1</td>\n                            <td>MacBook Pro 256G</td>\n                        </tr>\n                        <tr>\n                            <td>2</td>\n                            <td>尼康D810 单反相机</td>\n                        </tr>\n                        <tr>\n                            <td>3</td>\n                            <td>ThinkPad X1 256G</td>\n                        </tr>\n                        <tr>\n                            <td>4</td>\n                            <td>iPhone X 256G</td>\n                        </tr>\n                        <tr>\n                            <td>5</td>\n                            <td>iPhone 8 256G</td>\n                        </tr>\n                        <tr>\n                            <td>6</td>\n                            <td>海信智能液晶电视</td>\n                        </tr>\n                        <tr>\n                            <td>7</td>\n                            <td>HUAWEI P20</td>\n                        </tr>\n                        <tr>\n                            <td>8</td>\n                            <td>iPad mini 4</td>\n                        </tr>\n                        <tr>\n                            <td>9</td>\n                            <td>JBL蓝牙音箱</td>\n                        </tr>\n                        <tr>\n                            <td>10</td>\n                            <td>Kindle Paperwhite 电纸书</td>\n                        </tr>\n                    </table>\n                    <p>2、排行榜实时更新，最终排名以活动结束时（2018年9月26日23:59:59）的系统统计为准。累计出借本金相同的用户，按照达成时间先后排名。</p>\n                   \n                </div>\n                <div class='team-end'></div>\n            </div>",$lotteryTips="\n            <div class='lotteryTips' id='lotteryTips'>\n\n            </div>\n        ",$giftBox="\n          <div class='giftBox' id='giftBox'>\n             \n          </div>\n        ";this.dialogs={teamRankingRuleDialog:Dialog.createDialog({dialogClass:"september-team-ranking-dialog",contentClass:"september-team-ranking-dialog-content",content:$rankingRule}),lotteryTips:Dialog.createDialog({dialogClass:"september-lottery-tips",contentClass:"september-lottery-tips-content",content:$lotteryTips}),giftList:Dialog.createDialog({dialogClass:"september-gift-list",contentClass:"september-gift-list-content",content:$giftBox})}},SeptDialog.prototype.eventHandle=function(){var _this=this;$("#septRankRule").on("click",function(){$(".btn-close-dialog").removeClass("fn-hide"),_this.dialogs.teamRankingRuleDialog.show()})},SeptDialog}();module.exports=new SeptDialog});
;/*!/client/widget/2018/september/sept_product/sept_product.js*/
define("activity:widget/2018/september/sept_product/sept_product.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var SeptProduct=(require("common:widget/lib/jquery/jquery"),function(){function SeptProduct(){_classCallCheck(this,SeptProduct)}return SeptProduct.prototype.init=function(){this.bindEvent()},SeptProduct.prototype.bindEvent=function(){},SeptProduct}());module.exports=new SeptProduct});
;/*!/client/widget/2018/september/sept_rank/sept_rank.js*/
define("activity:widget/2018/september/sept_rank/sept_rank.js",function(){});
;/*!/client/widget/2018/september/sept_reward/sept_reward.js*/
define("activity:widget/2018/september/sept_reward/sept_reward.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),service=(require("common:node_modules/moment/moment"),require("common:widget/ui/service/service-factory")),activityService=service.getService("activity"),Reward=(require("event:widget/ui/awardlottery/awardlottery"),function(){function Reward(){_classCallCheck(this,Reward)}return Reward.prototype.init=function(userInfor,userJoinDetail){this.userInfor=userInfor,this.userJoinDetail=userJoinDetail,this.eventHandle()},Reward.prototype.eventHandle=function(){var _this=this;$("#sept_start").on("click",function(){if(!_this.userInfor.isLogin)return location.href="/login?returnUrl="+encodeURIComponent(location.href),!1;if(!_this.userInfor.weatherLottery){var totalAmount=1e4*parseFloat(_this.userJoinDetail.totalAmount);if(totalAmount>=2e4){var tag="<div id='fillhtml1'>\n                                    <h3 class='h3_3'>今日抽奖机会已用完</h3>\n                                </div>";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!1)}else{var tag="<div id='fillhtml1'>\n                                    <h3 class='h3_3'>出借满2万元即可获得一次抽奖机会</h3>\n                                </div>";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!1)}return!1}activityService.septLottery().then(function(res){var data=res.data;if(0===data.status)if(2===data.data.matchStatus){var tag="<div id='fillhtml1'>\n                                        <h3 class='h3_3'>今日抽奖机会已用完</h3>\n                                    </div>";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!1)}else _this.turnTable(data.data)})}),$("#rewardRecord").on("click",function(){activityService.getSeptLotteryRecord().then(function(res){var data=res.data;if(0===data.status)if(data.data.length>0){var tag="";data.data.forEach(function(e){tag+=" <tr>\n                                        <td>"+e.date+"</td>\n                                        <td>"+e.content+"</td>\n                                    </tr>"});var tag1="<div id='fillhtml2'>\n                                    <h3 class='h3_5'>我的获奖记录</h3>\n                                    <table class=\"reward-table\">\n                                        <tr>\n                                            <td>获奖日期</td>\n                                            <td>奖品</td>\n                                        </tr>\n                                        "+tag+"\n                                    </table>\n                                </div>";_this.textContentDeal(tag1,"#fillhtml2","september-gift-list","#giftBox",!1)}else{var tag=" <div id='fillhtml1'>\n                                        <h3 class='h3_4'>我的获奖记录</h3>\n                                        <img class='img_2' src='https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/september/emptybox.png' />\n                                        <p class='p_2'>暂无获奖记录</p>\n                                    </div>";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!1)}})}),$("#addressBtn").on("click",function(){activityService.getSeptUserAddress().then(function(res){if(0===res.data.status){var data=res.data.data,tag=" <div id='fillhtml2'>\n                                    <h3 class='h3_5'>我的收货地址</h3>\n                                    <div class='myDiv'>\n                                        <label for=\"name\">姓名：</label>\n                                        <input type=\"input\"  id=\"name\" value='"+(data?data.name:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="telPhone">手机号：</label>\n                                        <input type="input"  id="telPhone" value=\''+(data?data.mobile:"")+'\' />\n                                    </div>\n                                    <div class=\'myDiv\'>\n                                        <label for="address">地址：</label>\n                                        <input type="input"  id="address"  value=\''+(data?data.address:"")+"' />\n                                    </div>\n                                    <div class='btn' id='iKnow1'>保存地址</div>\n                                </div>";_this.textContentDeal(tag,"#fillhtml2","september-gift-list","#giftBox",!1),$("#iKnow1").on("click",function(){_this.verifyAddress()})}})})},Reward.prototype.turnTable=function(data){var _this=this;$("#sept_turntable").stopRotate(),$("#sept_turntable").rotate({angle:0,animateTo:2196-72*(data.index+1),duration:8e3,callback:function(){if(0===data.matchStatus){var arr=data.successText.split("$$$"),tag=" <div id='fillhtml1'>\n                                    <img class='img_1' src = 'https://www.renrendai.com/cms/5864b0d6a24d131067ef7956/activity/september/giftbox.png' />\n                                    <h3 class='h3_1'>"+arr[0]+"</h3>\n                                    <p class='p_1'>"+arr[1]+"</p>\n                                    <div class='btn' id='iKnow'>我知道了</div>\n                                </div>";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!0),$("#iKnow").on("click",function(){$(".rrd-pc-common-dialog.september-lottery-tips").hide(),$("#iKnow").off("click",null)})}else if(1===data.matchStatus){var tag="\n                                    <div id='fillhtml1'>\n                                        <h3 class='h3_3'>"+data.successText+"</h3>\n                                    </div>\n                                ";_this.textContentDeal(tag,"#fillhtml1","september-lottery-tips","#lotteryTips",!1)}}})},Reward.prototype.textContentDeal=function(tag,id,myclass,idx,bool){bool?$(".btn-close-dialog").addClass("fn-hide"):$(".btn-close-dialog").removeClass("fn-hide"),$(id)&&$(id).remove(),$(idx).append(tag),$(".rrd-pc-common-dialog."+myclass).show()},Reward.prototype.verifyAddress=function(){var name=$("#name").val();if(!name)return tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(0).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var phone=$("#telPhone").val();if(!/^1[34578]\d{9}$/.test(phone))return tip=$('<div class="tips-name">请输入正确的手机号</div>'),$(".myDiv").eq(1).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1;var addr=$("#address").val();return addr?void $.ajax({url:"/activity/2018/septUpdateAddress",dataType:"json",type:"post",data:{name:name,mobile:phone,address:addr},success:function(res){0===res.status&&($(".rrd-pc-common-dialog.september-gift-list").hide(),$("#iKnow").off("click",null))}}):(tip=$('<div class="tips-name">请完善您的个人信息</div>'),$(".myDiv").eq(2).append(tip),tip.fadeOut(1500,function(){tip.remove()}),!1)},Reward}());module.exports=new Reward});
;/*!/client/widget/2018/september/sept_rule/sept_rule.js*/
define("activity:widget/2018/september/sept_rule/sept_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Rule=function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){$("#btn-sept-rule").on("click",function(){var $mgmRuleContentBox=$(".sept-activity-rule-box .sept-rule-content-box");$(this).hasClass("show")?($mgmRuleContentBox.slideUp(),$(this).removeClass("show")):($mgmRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-jiantou").toggleClass("rotate-90").toggleClass("rotate-270")})},Rule}();module.exports=new Rule});
;/*!/client/widget/mgm/activity_rule/activity_rule.js*/
define("activity:widget/mgm/activity_rule/activity_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),$statistic=require("common:node_modules/glpb-components-common/src/index").weStatistic,Rule=function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){this.handle()},Rule.prototype.handle=function(){$("#btn-mgm-rule").on("click",function(){var $mgmRuleContentBox=$(".mgm-activity-rule-box .mgm-rule-content-box");$(this).hasClass("show")?($mgmRuleContentBox.slideUp(),$(this).removeClass("show")):($mgmRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-more").toggleClass("rotate-90").toggleClass("rotate-270"),$statistic.eventRaw({eventId:"PC_MGM_Click-activity_rules",extra:{}})})},Rule}();module.exports=new Rule});
;/*!/client/widget/mgm/invitations/invitations.js*/
define("activity:widget/mgm/invitations/invitations.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/dialog/dialog"),WeShare=require("common:widget/lib/share/share"),$statistic=require("common:node_modules/glpb-components-common/src/index").weStatistic,InviteRegister=function(){function InviteRegister(){_classCallCheck(this,InviteRegister)}return InviteRegister.prototype.init=function(shareData){WeShare.init(shareData),this._zeroClipboard();var $copyDialog='\n            <div id="invite-register-copy-tips-box">\n                <div class="icon-we-success"></div>\n                <div class="icon-we-success-title">链接复制成功</div>\n                <div class="deCaTips success j-result-text">\n                邀请链接: '+shareData.shareUrlPc+"\n            </div>";this.dialog={inviteRegisterCopyTips:Dialog.alertDialog({width:"700px",height:"auto",okText:"确定",content:$copyDialog,cssClass:"invite-register-copy-dialog",maskConfig:{cssClass:"user-invite-register-copy-mask"}}).after("hide",function(){}).after("show",function(){})},this.handle()},InviteRegister.prototype.handle=function(){$(".we-share-way-box").on("click",function(){$statistic.eventRaw({eventId:"PC_MGM_Selection_Platform",extra:{}})})},InviteRegister.prototype._zeroClipboard=function(){var _this=this;if(window.clipboardData){var copyBtn=document.getElementById("J_copy_btn");copyBtn.onclick=function(){var text=$("#J_copy_btn").attr("data-clipboard-text");window.clipboardData.setData("text",text),_this.dialog.inviteRegisterCopyTips.show()}}else if(window.Clipboard){var clipboard=new Clipboard("#J_copy_btn");clipboard.on("success",function(e){e.clearSelection(),_this.dialog.inviteRegisterCopyTips.show()})}},InviteRegister}();module.exports=new InviteRegister});
;/*!/client/widget/mgm/roll_award_list/roll_award_list.js*/
define("activity:widget/mgm/roll_award_list/roll_award_list.js",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),AwardList=function(){function AwardList(){_classCallCheck(this,AwardList)}return AwardList.prototype.init=function(){this.showAwardList()},AwardList.prototype.showAwardList=function(){var awardList=$(".roll-award-box ul"),step=-1,left=-0;setInterval(function(){left+=step,-6e3>=left&&(left=0),awardList.css({left:left})},30)},AwardList}();module.exports=new AwardList});
;/*!/client/widget/mgm/team_ranking_activity_period/team_ranking_activity_period.js*/
define("activity:widget/mgm/team_ranking_activity_period/team_ranking_activity_period.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),TeamRankingActivityPeroid=(require("common:node_modules/glpb-components-common/src/index").weStatistic,function(){function TeamRankingActivityPeroid(){_classCallCheck(this,TeamRankingActivityPeroid)}return TeamRankingActivityPeroid.prototype.init=function(userInfo){this.userInfo=userInfo,this.initDialog(),this.handle()},TeamRankingActivityPeroid.prototype.initDialog=function(){var $rankingRule='\n            <div class="team-ranking-rule-box">\n                <h3>排行榜规则</h3>\n                <div class="rule-detail-box">\n                    <p>1、排行榜数据实时更新，获奖名单以2018年8月21日23:59:59统计的战队累计出借金额为准。</p>\n                    <p>2、“战队累计出借”是指：您在活动期间邀请的所有新注册好友在此期间的总累计出借之和，出借散标/债权不计入好友出借的金额。</p>\n                    <p>3、榜单按照战队出借金额排名，金额相同的按照达成时间的先后顺序排列。</p>\n                    <p>4、活动期间，前十名战队的邀请人可获得以下奖励：</p>\n                    <dl>\n                        <dt>\n                            <span class="order">排名</span>\n                            <span>奖品</span>\n                        </dt>\n                        <dd>\n                            <span class="order">1</span>\n                            <span>MacBook Pro 13.3英寸</span>\n                        </dd>\n                        <dd>\n                            <span class="order">2</span>\n                            <span>iPhone X 256G</span>\n                        </dd>\n                        <dd>\n                            <span class="order">3</span>\n                            <span>iPhone X 64G</span>\n                        </dd>\n                        <dd> \n                            <span class="order">4</span>\n                            <span>5888元现金</span>\n                        </dd>\n                        <dd>\n                            <span class="order">5</span>\n                            <span>华为P20手机6GB+128GB</span>\n                        </dd>\n                        <dd>\n                            <span class="order">6</span>\n                            <span>戴森(Dyson)空气净化风扇TP00</span>\n                        </dd>\n                        <dd>\n                            <span class="order">7</span>\n                            <span>戴森(Dyson)吸尘器V7</span>\n                        </dd>\n                        <dd>\n                            <span class="order">8</span>\n                            <span>科沃斯扫地机DG710-吸口版</span>\n                        </dd>\n                        <dd>\n                            <span class="order">9</span>\n                            <span>800元京东卡</span>\n                        </dd>\n                        <dd>\n                            <span class="order">10</span>\n                            <span>600元京东卡</span>\n                        </dd>\n                    </dl>\n                </div>\n            </div>',$historyList="";this.userInfo.historyRecords.length>0?this.userInfo.historyRecords.map(function(value){if(value.rankingList.length>0){var $tmp="";value.rankingList.map(function(listValue,index){3>index&&($tmp+='\n                            <dd>\n                                <span class="order">第'+(index+1)+'名</span>\n                                <span class="mobile">'+listValue.mobile+'</span>\n                                <span class="amount">累计出借'+listValue.totalAmount+"万元</span>\n                            </dd>\n                        ")}),$historyList+='\n                        <dl class="day-data-box">\n                            <dt>'+value.date+"排行榜</dt>\n                            "+$tmp+"\n                        </dl>\n                    "}}):$historyList='<div class="history-rank">暂时无历史战队排行</divclass>';var $historyBox='\n            <div class="history-records-list">\n                 '+$historyList+"\n            </div>\n        ";this.dialogs={teamRankingRuleDialog:Dialog.createDialog({dialogClass:"mgm-team-ranking-period-dialog",contentClass:"mgm-team-ranking-dialog-content",content:$rankingRule}),historyDialog:Dialog.createDialog({dialogClass:"mgm-prizes-history-list-period-dialog",contentClass:"mgm-prizes-history-list-dialog-content",content:$historyBox})}},TeamRankingActivityPeroid.prototype.handle=function(){var _this=this;$(".btn-team-ranking-rule").on("click",function(){_this.dialogs.teamRankingRuleDialog.show()}),$("#btn-show-prize-history-list").on("click",function(){_this.dialogs.historyDialog.show()})},TeamRankingActivityPeroid}());module.exports=new TeamRankingActivityPeroid});
;/*!/client/widget/mgm/team_ranking/team_ranking.js*/
define("activity:widget/mgm/team_ranking/team_ranking.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),$statistic=require("common:node_modules/glpb-components-common/src/index").weStatistic,TeamRanking=function(){function TeamRanking(){_classCallCheck(this,TeamRanking)}return TeamRanking.prototype.init=function(userInfo){this.userInfo=userInfo,this.initDialog(),this.handle()},TeamRanking.prototype.initDialog=function(){var $rankingRule='\n            <div class="team-ranking-rule-box">\n                <h3>排行榜规则</h3>\n                <p>1、您在活动期间邀请的全部注册好友将组成一个战队，战队当日累计授权出借本金（不含散标、债权）在当日23:59:59排名前三，您可获得如下现金奖励：</p>\n                <p>排行第一名的战队，奖励邀请人500元现金；</p>\n                <p>排行第二名的战队，奖励邀请人300元现金；</p>\n                <p>排行第三名的战队，奖励邀请人200元现金。</p>\n                <p>2、排行榜数据实时更新，每日获奖名单以当日23:59:59统计的战队当日累计授权出借本金为准。</p>\n                <p>3、榜单按照战队授权出借本金排名，本金相同的按照达成时间的先后顺序排列。</p>\n                <p>4、现金奖励将于次日发放到邀请人的人人贷账户中。</p>\n            </div>',$prizeDataEmpty='\n            <div class="no-prize-box">暂无记录</div>\n        ',$prizeList="",myPrizeRecord=this.userInfo.myPrizeRecordList||{},myPrizeRecordList=myPrizeRecord.list||[];myPrizeRecordList.length>0&&myPrizeRecordList.map(function(value){$prizeList+='<li><span class="left">'+value.winDate+'</span><span class="right">'+value.amount+"元</span></li>"});var $prizeListBox='\n            <div class="my-prize-list-box">\n                <h3>奖励记录</h3>\n                <ul>\n                    <li>\n                        <span class="left">时间</span><span class="right">金额</span>\n                    </li>\n                    '+$prizeList+"\n                </ul>\n            </div>\n        ",$historyList="";this.userInfo.historyRecords.length>0?this.userInfo.historyRecords.map(function(value){if(value.rankingList.length>0){var $tmp="";value.rankingList.map(function(listValue,index){3>index&&($tmp+='\n                            <dd>\n                                <span class="order">第'+(index+1)+'名</span>\n                                <span class="mobile">'+listValue.mobile+'</span>\n                                <span class="amount">累计出借'+listValue.totalAmount+"万元</span>\n                            </dd>\n                        ")}),$historyList+='\n                        <dl class="day-data-box">\n                            <dt>'+value.date+"排行榜</dt>\n                            "+$tmp+"\n                        </dl>\n                    "}}):$historyList='<div class="history-rank">暂时无历史战队排行</divclass>';var $historyBox='\n            <div class="history-records-list">\n                 '+$historyList+"\n            </div>\n        ";this.dialogs={teamRankingRuleDialog:Dialog.createDialog({dialogClass:"mgm-team-ranking-dialog",contentClass:"mgm-team-ranking-dialog-content",content:$rankingRule}),myPrizeRecordEmpty:Dialog.createDialog({dialogClass:"mgm-my-prize-empty-dialog",contentClass:"mgm-my-prize-empty-dialog-content",content:$prizeDataEmpty}),myPrizesDialog:Dialog.createDialog({dialogClass:"mgm-my-prizes-list-dialog",contentClass:"mgm-my-prizes-list-dialog-content",content:$prizeListBox}),historyDialog:Dialog.createDialog({dialogClass:"mgm-prizes-history-list-dialog",contentClass:"mgm-prizes-history-list-dialog-content",content:$historyBox})}},TeamRanking.prototype.handle=function(){var _this=this;$(".btn-team-ranking-rule").on("click",function(){_this.dialogs.teamRankingRuleDialog.show()}),$(".btn-my-prize-record").on("click",function(){0===_this.userInfo.myPrizeRecordList.list.length?_this.dialogs.myPrizeRecordEmpty.show():_this.dialogs.myPrizesDialog.show(),$statistic.eventRaw({eventId:"PC_MGM_Click_show_my_inviterecord",extra:{}})}),$("#btn-show-prize-history-list").on("click",function(){_this.dialogs.historyDialog.show()})},TeamRanking}();module.exports=new TeamRanking});
;/*!/client/widget/mgm/time_limit_activity/time_limit_activity.js*/
define("activity:widget/mgm/time_limit_activity/time_limit_activity.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Dialog=require("common:widget/ui/jq-dialog/jq-dialog"),glpbCommon=require("common:node_modules/glpb-components-common/src/index"),RRDValidator=glpbCommon.RRDValidator,TimeLimitActivity=function(){function TimeLimitActivity(){_classCallCheck(this,TimeLimitActivity)}return TimeLimitActivity.prototype.init=function(userInfo){this.initDialog(userInfo.addressSetting),this.handle()},TimeLimitActivity.prototype.initDialog=function(addressSetting){var name=addressSetting&&addressSetting.name||"",mobile=addressSetting&&addressSetting.mobile||"",address=addressSetting&&addressSetting.address||"",$addressBox='\n            <div class="mgm-address-box">\n                <h3>我的收货地址</h3>\n                <input class="user-input user-name" type="text" placeholder="姓名" value="'+name+'">\n                <input class="user-input user-tel" type="text" placeholder="手机号" value="'+mobile+'">\n                <input class="user-input user-address" type="text" placeholder="收货地址" value="'+address+'">\n                <p class="error-tip"></p>\n                <button class="btn-save-address">保存</button>\n            </div>';this.dialogs={addressBox:Dialog.createDialog({dialogClass:"mgm-time-limit-address-dialog",contentClass:"mgm-time-limit-dialog-content",content:$addressBox})}},TimeLimitActivity.prototype.saveAddress=function(){var that=this,name=$(".mgm-address-box .user-name").val(),mobile=$(".mgm-address-box .user-tel").val(),address=$(".mgm-address-box .user-address").val();return name&&mobile&&address?RRDValidator.validate.isMobile(mobile)?($(".mgm-address-box .error-tip").text(""),void $.post("/activity/2018/septUpdateAddress",{name:name,mobile:mobile,address:address},function(res){res=JSON.parse(res),0===res.status?that.dialogs.addressBox.hide():$(".mgm-address-box .error-tip").text(res.message)})):void $(".mgm-address-box .error-tip").text("手机号格式错误"):void $(".mgm-address-box .error-tip").text("请完善个人信息")},TimeLimitActivity.prototype.handle=function(){var that=this;$(".btn-add-address").on("click",function(){that.dialogs.addressBox.show()}),$("body").on("click",".btn-save-address",function(){that.saveAddress()})},TimeLimitActivity}();module.exports=new TimeLimitActivity});
;/*!/client/widget/rollover/rollover_premium_list/rollover_premium_list.js*/
define("activity:widget/rollover/rollover_premium_list/rollover_premium_list.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),RolloverPremiumList=(require("common:node_modules/glpb-components-common/src/index").weStatistic,function(){function RolloverPremiumList(){_classCallCheck(this,RolloverPremiumList)}return RolloverPremiumList.prototype.init=function(){$.fn.extend({toggleText:function(a,b){return this.text(this.text()==b?a:b)}}),this.handle()},RolloverPremiumList.prototype.handle=function(){$("#rollover-premium-expand").on("click",function(){var $rolloverRuleContentBox=$(".rollover-premium-list .extra-content");$(this).hasClass("show")?($rolloverRuleContentBox.slideUp(200),$(this).removeClass("show"),$("#rollover-premium-show-all").css("display","none")):($rolloverRuleContentBox.slideDown(200,function(){$("#rollover-premium-show-all").css("display","block")}),$(this).addClass("show")),$(this).find("#expand-text").toggleText("展开","收起"),$(this).find(".icon-we-jiantou").toggleClass("rotate-90").toggleClass("rotate-270")})},RolloverPremiumList}());module.exports=new RolloverPremiumList});
;/*!/client/widget/rollover/rollover_rule/rollover_rule.js*/
define("activity:widget/rollover/rollover_rule/rollover_rule.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var $=require("common:widget/lib/jquery/jquery"),Rule=(require("common:node_modules/glpb-components-common/src/index").weStatistic,function(){function Rule(){_classCallCheck(this,Rule)}return Rule.prototype.init=function(){this.handle()},Rule.prototype.handle=function(){$("#btn-rollover-rule").on("click",function(){var $rolloverRuleContentBox=$(".rollover-activity-rule-box .rollover-rule-content-box");$(this).hasClass("show")?($rolloverRuleContentBox.slideUp(),$(this).removeClass("show")):($rolloverRuleContentBox.slideDown(),$(this).addClass("show")),$(this).find(".icon-we-more").toggleClass("rotate-90").toggleClass("rotate-270")})},Rule}());module.exports=new Rule});