;/*!/client/widget/ui/log/hit-bottom.js*/
define("ppb:widget/ui/log/hit-bottom.js",function(require,exports,module){"use strict";var $=require("common:widget/lib/jquery/jquery"),statistic=require("common:widget/ui/statistic/statistic"),utils=require("common:widget/ui/utils/utils"),LIMIT=100,inited=!1,hasLogged=!1,singleton=(utils.getTplConf(),{init:function(){function doCalculate(){var scrollTop=$body.scrollTop();LIMIT>bodyHeight-scrollTop-clientHeight&&!hasLogged&&(hasLogged=!0,$win.off("scroll",onScroll),statistic.eventRaw({eventId:"到达页面底部"}))}function onScroll(){clearTimeout(timer),timer=setTimeout(doCalculate,100)}if(!inited){inited=!0;var $win=$(window),$body=$(document.body),clientHeight=$win.height(),bodyHeight=$body.height(),timer=void 0;$win.on("scroll",onScroll),doCalculate()}}});module.exports=singleton});
;/*!/client/widget/ui/log/stay-time.js*/
define("ppb:widget/ui/log/stay-time.js",function(require,exports,module){"use strict";var $=require("common:widget/lib/jquery/jquery"),statistic=require("common:widget/ui/statistic/statistic"),inited=!1,hasLogged=!1,singleton={init:function(){function handleUnload(){if(!hasLogged){hasLogged=!0;var now=(new Date).getTime(),stayTime=now-window._jHeadStart;statistic.eventRaw({eventId:"页面停留时间",extra:{"停留时间ms":stayTime}})}}inited||(inited=!0,$(window).on("unload",handleUnload))}};module.exports=singleton});
;/*!/client/widget/ui/log/log.js*/
define("ppb:widget/ui/log/log.js",function(require,exports,module){"use strict";var statistic=require("common:widget/ui/statistic/statistic"),hitBottom=require("ppb:widget/ui/log/hit-bottom.js"),stayTime=require("ppb:widget/ui/log/stay-time.js"),singleton={init:function(){statistic.eventRaw({eventId:"Enter_LP"}),hitBottom.init(),stayTime.init()}};module.exports=singleton});
;/*!/client/widget/ui/page-ctrl/page-ctrl.js*/
define("ppb:widget/ui/page-ctrl/page-ctrl.js",function(require,exports,module){function PageCtrl(args){this.style=args.style||{},this.components=args.components||[],this.$el=$(args.el)}var $=require("common:widget/lib/jquery/jquery"),glpbCommon=require("common:node_modules/glpb-components-common/src/index");require("common:node_modules/glpb-we-pc/src/index");var componentFactory=glpbCommon.factory,glpbUtils=glpbCommon.utils;componentFactory.enableProductionMode(),$.extend(PageCtrl.prototype,{render:function(){this.updatePageStyle();for(var components=this.components,$el=this.$el,i=0,len=components.length;len>i;i++){var conf=components[i],component=this.createComponentInstance(conf);if(component)try{component.render();var $dom=component.$getElement();$el.append($dom),component.bindEvent()}catch(e){}}},updatePageStyle:function(){var cssStyles=glpbUtils.translateComponentStyle(this.style);$(document.body).css(cssStyles)},createComponentInstance:function(config){config.page=this;var component=componentFactory.createComponentInstance(config);return component}}),module.exports=PageCtrl});